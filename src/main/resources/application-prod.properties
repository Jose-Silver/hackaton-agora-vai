# ===========================================
# PERFIL DE PRODUÇÃO
# ===========================================

# ===========================================
# CONFIGURAÇÕES SQL SERVER - PRODUÇÃO
# ===========================================
# Datasource para produtos - SQL Server Azure
quarkus.datasource.produtos.username=${QUARKUS_DATASOURCE_PRODUTOS_USERNAME}
quarkus.datasource.produtos.password=${QUARKUS_DATASOURCE_PRODUTOS_PASSWORD}
quarkus.datasource.produtos.jdbc.url=${QUARKUS_DATASOURCE_PRODUTOS_JDBC_URL}

# Configurações de pool de conexões para produção
quarkus.datasource.produtos.jdbc.min-size=5
quarkus.datasource.produtos.jdbc.max-size=20
quarkus.datasource.produtos.jdbc.acquisition-timeout=30s

# ===========================================
# CONFIGURAÇÕES H2 - PRODUÇÃO
# ===========================================
# H2 para persistência local (simulações) - produção usa arquivo persistente
quarkus.datasource.jdbc.url=jdbc:h2:file:/deployments/data/prod-simulacoes;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

# Configurações de pool de conexões H2 para produção
quarkus.datasource.jdbc.min-size=3
quarkus.datasource.jdbc.max-size=10
quarkus.datasource.jdbc.acquisition-timeout=30s

# ===========================================
# CONFIGURAÇÕES HIBERNATE - PRODUÇÃO
# ===========================================
# Não recriar as tabelas do datasource padrão (H2) em produção
quarkus.hibernate-orm.database.generation=update
# Não criar tabelas do datasource produtos em produção - assumir que já existem
quarkus.hibernate-orm.produtos.database.generation=update

# ===========================================
# LOGS PARA PRODUÇÃO
# ===========================================
quarkus.log.level=INFO
quarkus.log.category."org.hibernate.SQL".level=WARN
quarkus.log.category."root".level=WARN

# ===========================================
# CONFIGURAÇÕES DE PRODUÇÃO
# ===========================================
quarkus.live.reload.enabled=false

# ===========================================
# CONFIGURAÇÕES DE CACHE PRODUÇÃO
# ===========================================
# Cache mais agressivo em produção para produtos
quarkus.cache.caffeine."produtos".expire-after-write=30m
quarkus.cache.caffeine."produtos".maximum-size=5000
